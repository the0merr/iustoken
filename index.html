<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claim Tokens</title>
    <style>
        /* Main Styling */
        body {
            background-color: #121212;
            color: #f1f1f1;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            justify-content: center;
            margin: 0;
        }

        /* Username and Token Display */
        #username, #token-count {
            font-size: 1.2em;
            margin: 10px;
        }

        /* Countdown Circle */
        #countdown-container {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: conic-gradient(#ff5733 0% 50%, #333 50%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            color: #f1f1f1;
            font-size: 1.5em;
            font-weight: bold;
        }

        /* Claim Button */
        #claim-btn {
            font-size: 1.1em;
            font-weight: bold;
            color: #fff;
            background-color: #ff5733;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #claim-btn:hover {
            background-color: #ff7961;
        }
    </style>
</head>
<body>
    <div id="username">Username: <span id="user-name">Unknown</span></div>
    <div id="token-count">Total Tokens: <span id="tokens">0</span></div>

    <div id="countdown-container">
        <span id="time-remaining">02:00:00</span>
    </div>

    <button id="claim-btn" onclick="claimTokens()">Claim</button>

    <script>
        // Simulated variables for username and tokens; replace with actual data retrieval in production.
        const telegramUsername = "unknown"; // This should dynamically retrieve the Telegram username.
        let tokens = 0;

        // Display the username
        document.getElementById("user-name").textContent = telegramUsername !== "unknown" ? telegramUsername : "Unknown";

        // Countdown Variables
        let countdownDuration = 2 * 60 * 60; // 2 hours in seconds
        let remainingTime = countdownDuration;
        const countdownElement = document.getElementById("time-remaining");

        // Initialize the countdown
        function updateCountdown() {
            let hours = String(Math.floor(remainingTime / 3600)).padStart(2, '0');
            let minutes = String(Math.floor((remainingTime % 3600) / 60)).padStart(2, '0');
            let seconds = String(remainingTime % 60).padStart(2, '0');
            countdownElement.textContent = `${hours}:${minutes}:${seconds}`;
        }

        function startCountdown() {
            const interval = setInterval(() => {
                if (remainingTime > 0) {
                    remainingTime--;
                    updateCountdown();
                } else {
                    clearInterval(interval);
                    remainingTime = countdownDuration; // Reset countdown
                }
            }, 1000);
        }

        // Claim function
        function claimTokens() {
            if (remainingTime === countdownDuration || remainingTime <= 0) {
                tokens += 100;
                document.getElementById("tokens").textContent = tokens;
                remainingTime = countdownDuration; // Reset the countdown
                startCountdown();
            } else {
                alert("Wait until the countdown resets to claim again.");
            }
        }

        // Initial Countdown and Token Load
        document.getElementById("tokens").textContent = tokens;
        updateCountdown();
        startCountdown();
    </script>
</body>
</html>
